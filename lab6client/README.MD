# Лабораторная работа №6

## Текст задания

Разделить программу из лабораторной работы №5 на клиентский и серверный модули. Серверный модуль должен осуществлять выполнение команд по управлению коллекцией. Клиентский модуль должен в интерактивном режиме считывать команды, передавать их для выполнения на сервер и выводить результаты выполнения.

### Необходимо выполнить следующие требования:

1. Операции обработки объектов коллекции должны быть реализованы с помощью Stream API с использованием лямбда-выражений.
2. Объекты между клиентом и сервером должны передаваться в сериализованном виде.
3. Объекты в коллекции, передаваемой клиенту, должны быть отсортированы по названию
4. Клиент должен корректно обрабатывать временную недоступность сервера.
5. Обмен данными между клиентом и сервером должен осуществляться по протоколу UDP
6. Для обмена данными на сервере необходимо использовать датаграммы
7. Для обмена данными на клиенте необходимо использовать сетевой канал
8. Сетевые каналы должны использоваться в неблокирующем режиме.

### Обязанности серверного приложения:

- Работа с файлом, хранящим коллекцию.
- Управление коллекцией объектов.
- Назначение автоматически генерируемых полей объектов в коллекции.
- Ожидание подключений и запросов от клиента.
- Обработка полученных запросов (команд).
- Сохранение коллекции в файл при завершении работы приложения.
- Сохранение коллекции в файл при исполнении специальной команды, доступной только серверу (клиент такую команду отправить не может).

Серверное приложение должно состоять из следующих модулей (реализованных в виде одного или нескольких классов):

1. Модуль приёма подключений.
2. Модуль чтения запроса.
3. Модуль обработки полученных команд.
4. Модуль отправки ответов клиенту.

Сервер должен работать в однопоточном режиме.

### Обязанности клиентского приложения:

- Чтение команд из консоли.
- Валидация вводимых данных.
- Сериализация введённой команды и её аргументов.
- Отправка полученной команды и её аргументов на сервер.
- Обработка ответа от сервера (вывод результата исполнения команды в консоль).
- Команду save из клиентского приложения необходимо убрать.
- Команда exit завершает работу клиентского приложения.

**Важно!** Команды и их аргументы должны представлять из себя объекты классов. Недопустим обмен "простыми" строками. Так, для команды add или её аналога необходимо сформировать объект, содержащий тип команды и объект, который должен храниться в вашей коллекции.

### Дополнительное задание:

Реализовать логирование различных этапов работы сервера (начало работы, получение нового подключения, получение нового запроса, отправка ответа и т.п.) с помощью Log4J2

### Отчёт по работе должен содержать:

1. Текст задания.
2. Диаграмма классов разработанной программы (как клиентского, так и серверного приложения).
3. Исходный код программы.
4. Выводы по работе.